# vim: set filetype=gitconfig :
[include]
	path = ./.gitsigningkey

[user]
	name = Mariusz Tang
	email = dev@mariusztang.com

[core]
	autocrlf = input
	compression = 9  # improve network transfer time
	editor = nvim
	pager = delta
	whitespace = error

# Operations
[branch]
	sort = -committerdate
[commit]
	gpgsign = true
	verbose = true
[init]
	defaultBranch = main
[interactive]
	diffFilter = delta --color-only
	singlekey = true
[log]
	abbrevCommit = true  # short commits
	graphColors = blue,yellow,cyan,magenta,green,red
[merge]
	conflictStyle = zdiff3
[pull]
	default = current
	rebase = true
[push]
	autoSetupRemote = true
	default = current
	followTags = true
[rebase]
	autoStash = true
	missingCommitsCheck = warn
[status]
	branch = true
	short = true
	showStash = true
	showUntrackedFiles = all  # do not group untracked files into directories
[tag]
	gpgSign = true
	sort = -taggerdate

[advice]
	addEmptyPathspec = false
	detachedHead = false

# Colors
[color "branch"]
	current = magenta
	local = default
	remote = yellow
	upstream = green
	plain = blue
[color.decorate]
	HEAD = red
	branch = blue
	tag = yellow
	remoteBranch = magenta

# Diffs
[diff]
	context = 3  # less context in diffs
	interHunkContext = 10  # merge near hunks in diffs
	renames = copies  # detect copies as renames in diffs
	tool = nvimdiff
[difftool "nvimdiff"]
	cmd = "nvim -d \"$LOCAL\" \"$REMOTE\""

# Pager
[pager]
	branch = false  # no need to use pager for git branch
	tag = false
[delta]
# {# replace_re("#[0-9a-f]{6}( #[0-9a-f]{6}){3}", `${colors.bg0} ${colors.bg1} ${colors.bg2} ${colors.bg3}`) #}
	blame-palette = "#282828 #3c3836 #504945 #665c54"
	features = line-numbers decorations
	navigate = true
	side-by-side = true
	syntax-theme = gruvbox-dark  # {< replace_re("dark|light", theme_name) >}
	tabs = 4
[delta "decorations"]
	commit-decoration-style = bold yellow box ul
	file-style = bold yellow ul
	file-decoration-style = none
	hunk-header-decoration-style = cyan box ul
[delta "line-numbers"]
	line-numbers-left-style = cyan
	line-numbers-right-style = cyan
	line-numbers-minus-style = 124
	line-numbers-plus-style = 28
	line-numbers-zero-style = gray


# Url aliases
[url "git@github.com:"]
	insteadOf = "gh:"
[url "git@github.com:mariusz-tang/"]
	insteadOf = "me:"
[url "https://aur.archlinux.org/"]
	insteadOf = "aur:"
