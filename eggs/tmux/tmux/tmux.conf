# Fix terminal colors.
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"  # <- this did a trick for me


# Fix neovim indent-blankline underline color.
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

# Attach to an existing session instead of closing the terminal on session kill.
set-option -g detach-on-destroy off

# Enable mouse support.
set -g mouse on

# Start windows and panes at 1, not 0.
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Remap prefix to ctrl+space.
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Shift Alt vim keys to switch windows.
bind -n M-H previous-window
bind -n M-L next-window

bind o run-shell "~/bin/sessionizer"

# Plugins.
set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"
set -g @plugin "christoomey/vim-tmux-navigator"
set -g @plugin "egel/tmux-gruvbox"
set -g @plugin 'tmux-plugins/tmux-yank'

# Theme options.
set -g @tmux-gruvbox "light256"
set -g @tmux-gruvbox-statusbar-alpha "true"
set -g @tmux-gruvbox-right-status-z "#h "

run "~/.tmux/plugins/tpm/tpm"

# Split panes open in the current working directory.
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
